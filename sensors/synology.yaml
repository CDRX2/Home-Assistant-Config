- sensor:
  - default_entity_id: sensor.cdrxstation3_security_malware
    name: CDRXStation3 malware status
    state: '{{ state_attr(''binary_sensor.cdrxstation3_security_status'', ''malware'') }}'

- sensor:
  - default_entity_id: sensor.cdrxstation3_security_network
    name: CDRXStation3 network status
    state: '{{ state_attr(''binary_sensor.cdrxstation3_security_status'', ''network'') }}'

- sensor:
  - default_entity_id: sensor.cdrxstation3_security_setting
    name: CDRXStation3 security setting status
    state: '{{ state_attr(''binary_sensor.cdrxstation3_security_status'', ''securitySetting'') }}'

- sensor:
  - default_entity_id: sensor.cdrxstation3_security_system_check
    name: CDRXStation3 security system check
    state: '{{ state_attr(''binary_sensor.cdrxstation3_security_status'', ''systemCheck'') }}'

- sensor:
  - default_entity_id: sensor.cdrxstation3_security_user_info
    name: CDRXStation3 security user info
    state: '{{ state_attr(''binary_sensor.cdrxstation3_security_status'', ''userInfo'') }}'

- sensor:
  - default_entity_id: sensor.backupstation_security_malware
    name: BackupStation malware status
    state: '{{ state_attr(''binary_sensor.backupstation_security_status'', ''malware'') }}'

- sensor:
  - default_entity_id: sensor.backupstation_security_network
    name: BackupStation network status
    state: '{{ state_attr(''binary_sensor.backupstation_security_status'', ''network'') }}'

- sensor:
  - default_entity_id: sensor.backupstation_security_setting
    name: BackupStation security setting status
    state: '{{ state_attr(''binary_sensor.backupstation_security_status'', ''securitySetting'') }}'

- sensor:
  - default_entity_id: sensor.backupstation_security_system_check
    name: BackupStation security system check
    state: '{{ state_attr(''binary_sensor.backupstation_security_status'', ''systemCheck'') }}'

- sensor:
  - default_entity_id: sensor.backupstation_security_user_info
    name: BackupStation security user info
    state: '{{ state_attr(''binary_sensor.backupstation_security_status'', ''userInfo'') }}'

- sensor:
  - default_entity_id: sensor.cdrxstation3_alert
    state: "{{ iif (states('binary_sensor.cdrxstation3_drive_1_below_min_remaining_life') != 'off' or
            states('binary_sensor.cdrxstation3_drive_1_exceeded_max_bad_sectors') != 'off' or
            states('sensor.cdrxstation3_drive_1_status') != 'normal' or
            states('sensor.cdrxstation3_drive_1_status_smart') != 'normal' or
            states('sensor.cdrxstation3_drive_1_temperature')|float(default=0) > 60 or
            states('binary_sensor.cdrxstation3_drive_2_below_min_remaining_life') != 'off' or
            states('binary_sensor.cdrxstation3_drive_2_exceeded_max_bad_sectors') != 'off' or
            states('sensor.cdrxstation3_drive_2_status') != 'normal' or
            states('sensor.cdrxstation3_drive_2_status_smart') != 'normal' or
            states('sensor.cdrxstation3_drive_2_temperature')|float(default=0) > 60 or
            states('binary_sensor.cdrxstation3_drive_3_below_min_remaining_life') != 'off' or
            states('binary_sensor.cdrxstation3_drive_3_exceeded_max_bad_sectors') != 'off' or
            states('sensor.cdrxstation3_drive_3_status') != 'normal' or
            states('sensor.cdrxstation3_drive_3_status_smart') != 'normal' or
            states('sensor.cdrxstation3_drive_3_temperature')|float(default=0) > 60 or
            states('binary_sensor.cdrxstation3_drive_4_below_min_remaining_life') != 'off' or
            states('binary_sensor.cdrxstation3_drive_4_exceeded_max_bad_sectors') != 'off' or
            states('sensor.cdrxstation3_drive_4_status') != 'normal' or
            states('sensor.cdrxstation3_drive_4_status_smart') != 'normal' or
            states('sensor.cdrxstation3_drive_4_temperature')|float(default=0) > 60 or
            states('binary_sensor.cdrxstation3_drive_1_rx415_1_below_min_remaining_life') != 'off' or
            states('binary_sensor.cdrxstation3_drive_1_rx415_1_exceeded_max_bad_sectors') != 'off' or
            states('sensor.cdrxstation3_drive_1_rx415_1_status') != 'normal' or
            states('sensor.cdrxstation3_drive_1_rx415_1_status_smart') != 'normal' or
            states('sensor.cdrxstation3_drive_1_rx415_1_temperature')|float(default=0) > 60 or
            states('binary_sensor.cdrxstation3_drive_2_rx415_1_below_min_remaining_life') != 'off' or
            states('binary_sensor.cdrxstation3_drive_2_rx415_1_exceeded_max_bad_sectors') != 'off' or
            states('sensor.cdrxstation3_drive_2_rx415_1_status') != 'normal' or
            states('sensor.cdrxstation3_drive_2_rx415_1_status_smart') != 'normal' or
            states('sensor.cdrxstation3_drive_2_rx415_1_temperature')|float(default=0) > 60 or
            states('binary_sensor.cdrxstation3_drive_3_rx415_1_below_min_remaining_life') != 'off' or
            states('binary_sensor.cdrxstation3_drive_3_rx415_1_exceeded_max_bad_sectors') != 'off' or
            states('sensor.cdrxstation3_drive_3_rx415_1_status') != 'normal' or
            states('sensor.cdrxstation3_drive_3_rx415_1_status_smart') != 'normal' or
            states('sensor.cdrxstation3_drive_3_rx415_1_temperature')|float(default=0) > 60 or
            states('binary_sensor.cdrxstation3_drive_4_rx415_1_below_min_remaining_life') != 'off' or
            states('binary_sensor.cdrxstation3_drive_4_rx415_1_exceeded_max_bad_sectors') != 'off' or
            states('sensor.cdrxstation3_drive_4_rx415_1_status') != 'normal' or
            states('sensor.cdrxstation3_drive_4_rx415_1_status_smart') != 'normal' or
            states('sensor.cdrxstation3_drive_4_rx415_1_temperature')|float(default=0) > 60 or
            states('binary_sensor.cdrxstation3_ssd_1_below_min_remaining_life') != 'off' or
            states('binary_sensor.cdrxstation3_ssd_1_exceeded_max_bad_sectors') != 'off' or
            states('sensor.cdrxstation3_ssd_1_status') != 'normal' or
            states('sensor.cdrxstation3_ssd_1_status_smart') != 'normal' or
            states('sensor.cdrxstation3_ssd_1_temperature')|float(default=0) > 60 or
            states('binary_sensor.cdrxstation3_ssd_2_below_min_remaining_life') != 'off' or
            states('binary_sensor.cdrxstation3_ssd_2_exceeded_max_bad_sectors') != 'off' or
            states('sensor.cdrxstation3_ssd_2_status') != 'normal' or
            states('sensor.cdrxstation3_ssd_2_status_smart') != 'normal' or
            states('sensor.cdrxstation3_ssd_2_temperature')|float(default=0) > 60 or
            states('sensor.cdrxstation3_temperature')|float(default=0) > 60 or
            states('sensor.cdrxstation3_volume_1_status') != 'normal' or
            states('sensor.cdrxstation3_volume_1_volume_used')|float(default=0) > 95 or
            states('sensor.cdrxstation3_volume_1_maximum_disk_temp')|float(default=0) > 60, 'alert', 'normal') }}"
    name: cdrxstation3_alert

- sensor:
  - default_entity_id: sensor.backupstation_alert
    state: "{{ iif (states('binary_sensor.backupstation_drive_1_below_min_remaining_life') != 'off' or
            states('binary_sensor.backupstation_drive_1_exceeded_max_bad_sectors') != 'off' or
            states('sensor.backupstation_drive_1_status') != 'normal' or
            states('sensor.backupstation_drive_1_status_smart') != 'normal' or
            states('sensor.backupstation_drive_1_temperature')|float(default=0) > 60 or
            states('binary_sensor.backupstation_drive_2_below_min_remaining_life') != 'off' or
            states('binary_sensor.backupstation_drive_2_exceeded_max_bad_sectors') != 'off' or
            states('sensor.backupstation_drive_2_status') != 'normal' or
            states('sensor.backupstation_drive_2_status_smart') != 'normal' or
            states('sensor.backupstation_drive_2_temperature')|float(default=0) > 60 or
            states('binary_sensor.backupstation_drive_3_below_min_remaining_life') != 'off' or
            states('binary_sensor.backupstation_drive_3_exceeded_max_bad_sectors') != 'off' or
            states('sensor.backupstation_drive_3_status') != 'normal' or
            states('sensor.backupstation_drive_3_status_smart') != 'normal' or
            states('sensor.backupstation_drive_3_temperature')|float(default=0) > 60 or
            states('binary_sensor.backupstation_drive_4_below_min_remaining_life') != 'off' or
            states('binary_sensor.backupstation_drive_4_exceeded_max_bad_sectors') != 'off' or
            states('sensor.backupstation_drive_4_status') != 'normal' or
            states('sensor.backupstation_drive_4_status_smart') != 'normal' or
            states('sensor.backupstation_drive_4_temperature')|float(default=0) > 60 or
            states('binary_sensor.backupstation_drive_1_rx415_1_below_min_remaining_life') != 'off' or
            states('binary_sensor.backupstation_drive_1_rx415_1_exceeded_max_bad_sectors') != 'off' or
            states('sensor.backupstation_drive_1_rx415_1_status') != 'normal' or
            states('sensor.backupstation_drive_1_rx415_1_status_smart') != 'normal' or
            states('sensor.backupstation_drive_1_rx415_1_temperature')|float(default=0) > 60 or
            states('binary_sensor.backupstation_drive_2_rx415_1_below_min_remaining_life') != 'off' or
            states('binary_sensor.backupstation_drive_2_rx415_1_exceeded_max_bad_sectors') != 'off' or
            states('sensor.backupstation_drive_2_rx415_1_status') != 'normal' or
            states('sensor.backupstation_drive_2_rx415_1_status_smart') != 'normal' or
            states('sensor.backupstation_drive_2_rx415_1_temperature')|float(default=0) > 60 or
            states('binary_sensor.backupstation_drive_3_rx415_1_below_min_remaining_life') != 'off' or
            states('binary_sensor.backupstation_drive_3_rx415_1_exceeded_max_bad_sectors') != 'off' or
            states('sensor.backupstation_drive_3_rx415_1_status') != 'normal' or
            states('sensor.backupstation_drive_3_rx415_1_status_smart') != 'normal' or
            states('sensor.backupstation_drive_3_rx415_1_temperature')|float(default=0) > 60 or
            states('binary_sensor.backupstation_drive_4_rx415_1_below_min_remaining_life') != 'off' or
            states('binary_sensor.backupstation_drive_4_rx415_1_exceeded_max_bad_sectors') != 'off' or
            states('sensor.backupstation_drive_4_rx415_1_status') != 'normal' or
            states('sensor.backupstation_drive_4_rx415_1_status_smart') != 'normal' or
            states('sensor.backupstation_drive_4_rx415_1_temperature')|float(default=0) > 60 or
            states('sensor.backupstation_temperature')|float(default=0) > 60 or
            states('sensor.backupstation_volume_1_status') != 'normal' or
            states('sensor.backupstation_volume_1_volume_used')|float(default=0) > 95 or
            states('sensor.backupstation_volume_1_maximum_disk_temp')|float(default=0) > 60, 'alert', 'normal') }}"
    name: backupstation_alert

- sensor:
  - default_entity_id: sensor.cdrxstation_alert
    state: "{{ iif (states('sensor.cdrxstation3_alert') != 'normal' or
            states('sensor.backupstation_alert') != 'normal', 'alert', 'normal') }}"
    name: cdrxstation_alert

- sensor:
  - default_entity_id: sensor.cdrxstation_update
    state: "{{ iif (states('update.cdrxstation3_dsm_update') == 'on' or
            states('update.backupstation_dsm_update') == 'on', 'update', 'normal') }}"
    name: cdrxstation_update

- sensor:
  - default_entity_id: sensor.cdrxstation3_volume1_total_space
    state: '{{ states(''sensor.cdrxstation3_volume_1_total_size'', rounded=True) }}'
    name: cdrxstation3_volume1_total_space

- sensor:
  - default_entity_id: sensor.backupstation_volume1_total_space
    state: '{{ states(''sensor.backupstation_volume_1_total_size'', rounded=True) }}'
    name: backupstation_volume1_total_space

- sensor:
  - default_entity_id: sensor.cdrxstation3_total_memory_real
    state: '{{ states(''sensor.cdrxstation3_memory_total_real'', rounded=True) }}'
    name: cdrxstation3_total_memory_real

- sensor:
  - default_entity_id: sensor.cdrxstation3_total_memory_swap
    state: '{{ states(''sensor.cdrxstation3_memory_total_swap'', rounded=True) }}'
    name: cdrxstation3_total_memory_swap

- sensor:
  - default_entity_id: sensor.cdrxstation3_total_memory
    state: '{{ states(''sensor.cdrxstation3_memory_size'', rounded=True) }}'
    name: cdrxstation3_total_memory

- sensor:
  - default_entity_id: sensor.backupstation_total_memory_real
    state: '{{ states(''sensor.backupstation_memory_total_real'', rounded=True) }}'
    name: backupstation_total_memory_real

- sensor:
  - default_entity_id: sensor.backupstation_total_memory_swap
    state: '{{ states(''sensor.backupstation_memory_total_swap'', rounded=True) }}'
    name: backupstation_total_memory_swap

- sensor:
  - default_entity_id: sensor.backupstation_total_memory
    state: '{{ states(''sensor.backupstation_memory_size'', rounded=True) }}'
    name: backupstation_total_memory
