- sensor:
  - unit_of_measurement: '%'
    default_entity_id: sensor.battery_phone_nanne
    icon: "{% if is_state('sensor.battery_phone_nanne', 'unknown') %}
            mdi:battery-unknown
          {% elif is_state('sensor.pixel_8_pro_nanne_battery_state', 'charging') %}
            mdi:battery-charging
          {% elif states('sensor.pixel_8_pro_nanne_battery_level')|float(default=0) <= 5 %}
            mdi:battery-outline
          {% elif states('sensor.pixel_8_pro_nanne_battery_level')|float(default=0) >= 95 %}
            mdi:battery
          {% else %}
            mdi:battery-{{(states('sensor.pixel_8_pro_nanne_battery_level')|float(default=0) / 10)|round*10}}
          {% endif %}"
    state: "{% if states('sensor.pixel_8_pro_nanne_battery_level') %}
              {{ states('sensor.pixel_8_pro_nanne_battery_level') | round }}
            {% else %}
              {{ states('sensor.battery_phone_nanne') }}
            {% endif %}"
    name: battery_phone_nanne

- sensor:
  - unit_of_measurement: '%'
    default_entity_id: sensor.battery_phone_cdrx
    icon: "{% if is_state('sensor.pixel_8_pro_cdrx_attery_state', 'unknown') %}
            mdi:battery-unknown
          {% elif is_state('sensor.pixel_8_pro_cdrx_battery_state', 'charging') %}
            mdi:battery-charging
          {% elif states('sensor.pixel_8_pro_cdrx_battery_level')|float(default=0) <= 5 %}
            mdi:battery-outline
          {% elif states('sensor.pixel_8_pro_cdrx_battery_level')|float(default=0) >= 95 %}
            mdi:battery
          {% else %}
            mdi:battery-{{(states('sensor.pixel_8_pro_cdrx_battery_level')|float(default=0) / 10)|round*10}}
          {% endif %}"
    state: "{% if states('sensor.pixel_8_pro_cdrx_battery_level') %}
              {{ states('sensor.pixel_8_pro_cdrx_battery_level') | round }}
            {% else %}
              {{ states('sensor.battery_phone_cdrx') }}
            {% endif
      %}"
    name: battery_phone_cdrx

- sensor:
  - default_entity_id: sensor.battery_alert
    state: "{{ iif (states('sensor.salon_battery')|float(default=0) < 10 or
              states('sensor.guest_bathroom_battery')|float(default=0) < 10 or
              states('sensor.entrance_battery')|float(default=0) < 10 or
              states('sensor.guest_battery')|float(default=0) < 10 or
              states('sensor.office_battery')|float(default=0) < 10 or
              states('sensor.bathroom_battery')|float(default=0) < 10 or
              states('sensor.temperature_charles_battery_level')|float(default=0) < 10 or
              states('sensor.twins_battery')|float(default=0) < 10 or
              states('sensor.bottom_stairs_battery')|float(default=0) < 10 or
              states('sensor.carport_movement_battery')|float(default=0) < 10 or
              states('sensor.cat_flap_entree_battery_level')|float(default=0) < 10 or
              states('sensor.lenovo_tab_1st_floor_battery')|float(default=0) < 10 or
              states('sensor.movement_bathroom_battery')|float(default=0) < 10, 'alert', 'normal') }}"
    name: battery_alert
